\hypertarget{ab__timehelper_8h}{}\doxysection{ab\+\_\+timehelper.\+h File Reference}
\label{ab__timehelper_8h}\index{ab\_timehelper.h@{ab\_timehelper.h}}


Functions for time and timing.  


{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include \char`\"{}ab\+\_\+common.\+h\char`\"{}}\newline
Include dependency graph for ab\+\_\+timehelper.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{df/dc4/ab__timehelper_8h__incl}
\end{center}
\end{figure}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef timespec \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}
\begin{DoxyCompactList}\small\item\em Internal representation of time. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} \mbox{\hyperlink{ab__timehelper_8h_a5f76620f19eb119405fadf7b473e056f}{th\+\_\+\+Get\+Monotonic}} ()
\begin{DoxyCompactList}\small\item\em Get current monotonic time, based on timer that is independent of wall clock. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} \mbox{\hyperlink{ab__timehelper_8h_a52d62adfee9c3d8e62b011ea057fa30c}{th\+\_\+\+Get\+Time\+From\+Elapsed}} (\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} Start\+Time, \mbox{\hyperlink{ab__common_8h_aafa04bc3cb166e826b75a23f4add4b59}{r32}} Timestamp\+Ms)
\begin{DoxyCompactList}\small\item\em Get a new time based on a start time and the number of milliseconds passed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\textbf{ }\par
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ab__timehelper_8h_a1cb8c8f28e9ae75e39e7a1c31e2a8cbc}{th\+\_\+\+Get\+Current}} (\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} $\ast$Now)
\begin{DoxyCompactList}\small\item\em Get current U\+TC wall clock time, as reported by OS. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} \mbox{\hyperlink{ab__timehelper_8h_a8278210009d2c07f4c2ab5d0b3e5a43f}{th\+\_\+\+Get\+Current}} ()
\begin{DoxyCompactList}\small\item\em Get current U\+TC wall clock time, as reported by OS. \end{DoxyCompactList}\end{DoxyCompactItemize}

\textbf{ }\par
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{ab__timehelper_8h_a745b4b0b55345b8021bbc5038323be52}{th\+\_\+\+Get\+Elapsed\+Ms\+U32}} (\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} Start\+Time, \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} Now)
\begin{DoxyCompactList}\small\item\em Calculate the time in milliseconds between two times. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ab__common_8h_aafa04bc3cb166e826b75a23f4add4b59}{r32}} \mbox{\hyperlink{ab__timehelper_8h_ac0d8501e06427ead89261f3404c058d8}{th\+\_\+\+Get\+Elapsed\+Ms\+R32}} (\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} Start\+Time, \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} Now)
\begin{DoxyCompactList}\small\item\em Calculate the time in milliseconds between two times. \end{DoxyCompactList}\end{DoxyCompactItemize}

\textbf{ }\par
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{ab__timehelper_8h_a75a256593ec956d2cca80748dcc97908}{th\+\_\+\+Get\+Ms\+From\+Time\+U32}} (\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} Time)
\begin{DoxyCompactList}\small\item\em Given a time, return the milliseconds it corresponds to. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} \mbox{\hyperlink{ab__timehelper_8h_a544feefe5ba5dd5068d8a1c51b6d8e10}{th\+\_\+\+Get\+Ms\+From\+Time32}} (\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} Time)
\begin{DoxyCompactList}\small\item\em Given a time, return the milliseconds it corresponds to. \end{DoxyCompactList}\end{DoxyCompactItemize}



\doxysubsection{Detailed Description}
Functions for time and timing. 

\begin{DoxyAuthor}{Author}
Amos Buchanan 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2020
\end{DoxyDate}
These are functions used for timing and time comparisons. Handles both wall clock time and monotonic time. Can be used in both Windows and Linux. Define {\ttfamily \+\_\+\+L\+I\+N\+UX} or {\ttfamily \+\_\+\+W\+I\+N\+D\+O\+WS} either as a compile option or before calling this to ensure the correct code is pulled in.

This is a single-\/file library. You may include it as a header just as any other. Add the following define to include the source {\itshape once} per project\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#define TIME\_HELPER\_SRC}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}ab\_time.h"{}}}
\end{DoxyCode}


Example Usage\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\_time}} StartTime = \mbox{\hyperlink{ab__timehelper_8h_a5f76620f19eb119405fadf7b473e056f}{th\_GetMonotonic}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{while}(isRunning)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\_time}} Now = \mbox{\hyperlink{ab__timehelper_8h_a5f76620f19eb119405fadf7b473e056f}{th\_GetMonotonic}}();}
\DoxyCodeLine{    \mbox{\hyperlink{ab__common_8h_aafa04bc3cb166e826b75a23f4add4b59}{r32}} TimeElapsed = \mbox{\hyperlink{ab__timehelper_8h_ac0d8501e06427ead89261f3404c058d8}{th\_GetElapsedMsR32}}(StartTime, Now);}
\DoxyCodeLine{    \textcolor{keywordflow}{if}(TimeElapsed > 1000)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        StartTime = Now;}
\DoxyCodeLine{        printf(\textcolor{stringliteral}{"{}One Second Elapsed\(\backslash\)n"{}});}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\}}
\end{DoxyCode}
 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}\label{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_time@{th\_time}}
\index{th\_time@{th\_time}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_time}{th\_time}}
{\footnotesize\ttfamily typedef timespec \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}



Internal representation of time. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ab__timehelper_8h_a8278210009d2c07f4c2ab5d0b3e5a43f}\label{ab__timehelper_8h_a8278210009d2c07f4c2ab5d0b3e5a43f}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetCurrent@{th\_GetCurrent}}
\index{th\_GetCurrent@{th\_GetCurrent}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetCurrent()}{th\_GetCurrent()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} th\+\_\+\+Get\+Current (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get current U\+TC wall clock time, as reported by OS. 

\mbox{\Hypertarget{ab__timehelper_8h_a1cb8c8f28e9ae75e39e7a1c31e2a8cbc}\label{ab__timehelper_8h_a1cb8c8f28e9ae75e39e7a1c31e2a8cbc}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetCurrent@{th\_GetCurrent}}
\index{th\_GetCurrent@{th\_GetCurrent}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetCurrent()}{th\_GetCurrent()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void th\+\_\+\+Get\+Current (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} $\ast$}]{Now }\end{DoxyParamCaption})}



Get current U\+TC wall clock time, as reported by OS. 

\mbox{\Hypertarget{ab__timehelper_8h_ac0d8501e06427ead89261f3404c058d8}\label{ab__timehelper_8h_ac0d8501e06427ead89261f3404c058d8}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetElapsedMsR32@{th\_GetElapsedMsR32}}
\index{th\_GetElapsedMsR32@{th\_GetElapsedMsR32}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetElapsedMsR32()}{th\_GetElapsedMsR32()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__common_8h_aafa04bc3cb166e826b75a23f4add4b59}{r32}} th\+\_\+\+Get\+Elapsed\+Ms\+R32 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}]{Start\+Time,  }\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}]{Now }\end{DoxyParamCaption})}



Calculate the time in milliseconds between two times. 


\begin{DoxyParams}{Parameters}
{\em Start\+Time} & The time at the start of the period to measure. \\
\hline
{\em Now} & The time at the end of the period to measure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Milliseconds between the two times. 
\end{DoxyReturn}
\mbox{\Hypertarget{ab__timehelper_8h_a745b4b0b55345b8021bbc5038323be52}\label{ab__timehelper_8h_a745b4b0b55345b8021bbc5038323be52}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetElapsedMsU32@{th\_GetElapsedMsU32}}
\index{th\_GetElapsedMsU32@{th\_GetElapsedMsU32}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetElapsedMsU32()}{th\_GetElapsedMsU32()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} th\+\_\+\+Get\+Elapsed\+Ms\+U32 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}]{Start\+Time,  }\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}]{Now }\end{DoxyParamCaption})}



Calculate the time in milliseconds between two times. 


\begin{DoxyParams}{Parameters}
{\em Start\+Time} & The time at the start of the period to measure. \\
\hline
{\em Now} & The time at the end of the period to measure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Milliseconds between the two times. 
\end{DoxyReturn}
\mbox{\Hypertarget{ab__timehelper_8h_a5f76620f19eb119405fadf7b473e056f}\label{ab__timehelper_8h_a5f76620f19eb119405fadf7b473e056f}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetMonotonic@{th\_GetMonotonic}}
\index{th\_GetMonotonic@{th\_GetMonotonic}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetMonotonic()}{th\_GetMonotonic()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} th\+\_\+\+Get\+Monotonic (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get current monotonic time, based on timer that is independent of wall clock. 

\mbox{\Hypertarget{ab__timehelper_8h_a544feefe5ba5dd5068d8a1c51b6d8e10}\label{ab__timehelper_8h_a544feefe5ba5dd5068d8a1c51b6d8e10}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetMsFromTime32@{th\_GetMsFromTime32}}
\index{th\_GetMsFromTime32@{th\_GetMsFromTime32}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetMsFromTime32()}{th\_GetMsFromTime32()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} th\+\_\+\+Get\+Ms\+From\+Time32 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}]{Time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Given a time, return the milliseconds it corresponds to. 

For wall clock time, this is time since epoch. For monotonic time, this is time since the arbitrary starting value.


\begin{DoxyParams}{Parameters}
{\em Time} & The time to convert. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Milliseconds since starting time. 
\end{DoxyReturn}
\mbox{\Hypertarget{ab__timehelper_8h_a75a256593ec956d2cca80748dcc97908}\label{ab__timehelper_8h_a75a256593ec956d2cca80748dcc97908}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetMsFromTimeU32@{th\_GetMsFromTimeU32}}
\index{th\_GetMsFromTimeU32@{th\_GetMsFromTimeU32}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetMsFromTimeU32()}{th\_GetMsFromTimeU32()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} th\+\_\+\+Get\+Ms\+From\+Time\+U32 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}]{Time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Given a time, return the milliseconds it corresponds to. 

For wall clock time, this is time since epoch. For monotonic time, this is time since the arbitrary starting value.


\begin{DoxyParams}{Parameters}
{\em Time} & The time to convert. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Milliseconds since starting time. 
\end{DoxyReturn}
\mbox{\Hypertarget{ab__timehelper_8h_a52d62adfee9c3d8e62b011ea057fa30c}\label{ab__timehelper_8h_a52d62adfee9c3d8e62b011ea057fa30c}} 
\index{ab\_timehelper.h@{ab\_timehelper.h}!th\_GetTimeFromElapsed@{th\_GetTimeFromElapsed}}
\index{th\_GetTimeFromElapsed@{th\_GetTimeFromElapsed}!ab\_timehelper.h@{ab\_timehelper.h}}
\doxysubsubsection{\texorpdfstring{th\_GetTimeFromElapsed()}{th\_GetTimeFromElapsed()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}} th\+\_\+\+Get\+Time\+From\+Elapsed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ab__timehelper_8h_a3f71a74f288b3f4f3d46f6ba9d510234}{th\+\_\+time}}}]{Start\+Time,  }\item[{\mbox{\hyperlink{ab__common_8h_aafa04bc3cb166e826b75a23f4add4b59}{r32}}}]{Timestamp\+Ms }\end{DoxyParamCaption})}



Get a new time based on a start time and the number of milliseconds passed. 


\begin{DoxyParams}{Parameters}
{\em Start\+Time} & The start time. \\
\hline
{\em Timestamp\+Ms} & The number of milliseconds passed since the start time. \\
\hline
\end{DoxyParams}
