\hypertarget{ab__loggerclient_8h}{}\doxysection{ab\+\_\+loggerclient.\+h File Reference}
\label{ab__loggerclient_8h}\index{ab\_loggerclient.h@{ab\_loggerclient.h}}


Basic Logger Client.  


{\ttfamily \#include \char`\"{}ab\+\_\+common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ab\+\_\+memory.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}czmq.\+h\char`\"{}}\newline
Include dependency graph for ab\+\_\+loggerclient.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{d6/d14/ab__loggerclient_8h__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structablc__message}{ablc\+\_\+message}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \mbox{\hyperlink{ab__loggerclient_8h_af262e3b1912ee661a49f0e9c59eb7d2d}{log\+\_\+function}}) (\mbox{\hyperlink{structablc__message}{ablc\+\_\+message}})
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
ablc\+\_\+client $\ast$ \mbox{\hyperlink{ab__loggerclient_8h_a6a9c6cc50f2d8e043c083a734f3ba274}{ablc\+\_\+\+Initialize}} (memory\+\_\+arena $\ast$Memory, \mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} Max\+Endpoints)
\begin{DoxyCompactList}\small\item\em Initialize a new client. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ab__common_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32}} \mbox{\hyperlink{ab__loggerclient_8h_a197a243e87ebadb6e215015852719dae}{ablc\+\_\+\+Add\+Endpoint}} (ablc\+\_\+client $\ast$Client, char const $\ast$Label, char const $\ast$Endpoint)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_af80216ddef20b95407caf7a5a948cae1}{ablc\+\_\+\+Remove\+Endpoint}} (ablc\+\_\+client $\ast$Client, char const $\ast$Label)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_a9f7c437ff3b7fb635683e56c8206d2e1}{ablc\+\_\+\+Remove\+Endpoint}} (ablc\+\_\+client $\ast$Client, \mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}} Index)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_a27899905b2fb26048cd0765fa835011e}{ablc\+\_\+\+Set\+File}} (ablc\+\_\+client $\ast$Client, char const $\ast$Filename)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_ae0aaa92682170edd6287afb7636d9824}{ablc\+\_\+\+Clear\+File}} (ablc\+\_\+client $\ast$Client)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_a199bbcf889739df1b4089adf2b7eae8f}{ablc\+\_\+\+Set\+Quiet}} (ablc\+\_\+client $\ast$Client, \mbox{\hyperlink{ab__common_8h_a70e369648385b50f2d0588e8e8745275}{b8}} do\+Quiet)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_a463b5fd55a5383e451300bc2acb2659f}{ablc\+\_\+\+Set\+Pause}} (ablc\+\_\+client $\ast$Client, \mbox{\hyperlink{ab__common_8h_a70e369648385b50f2d0588e8e8745275}{b8}} do\+Pause)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_a4286ea4124ae1b21a8178ec8b5822ed2}{ablc\+\_\+\+Shutdown}} (ablc\+\_\+client $\ast$Client)
\item 
void \mbox{\hyperlink{ab__loggerclient_8h_a6af52c9b0e513420bcdeb81576ec6599}{ablc\+\_\+\+Basic\+Logger}} (\mbox{\hyperlink{structablc__message}{ablc\+\_\+message}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Basic Logger Client. 

\begin{DoxyAuthor}{Author}
Amos Buchanan 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2020 
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
\href{https://opensource.org/licenses/MIT}{\texttt{ M\+IT Public License}}
\end{DoxyCopyright}
An example of how to subscribes to a logger created in {\ttfamily \mbox{\hyperlink{ab__logger_8h}{ab\+\_\+logger.\+h}}}. It also serves as a client that is usable on its own. This may subscribe to multiple loggers at different endpoints. By default it will print the log messages to stderr, but this is configurable. You can also set a filename to write all log messages.

The client runs in a background thread to constantly retrieve and print messages from any logger it is subscribed to.

This is a single-\/file-\/library. You may include the file anywhere in your source. Only once in your code, define the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#define AB\_LOGGERCLIENT\_SRC}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}ab\_loggerclient.h"{}}}
\end{DoxyCode}


This will include the source.

example usage\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} *OsMemory = \mbox{\hyperlink{ab__memory_8h_a20bffb2c2335745a56275b6094b6dcad}{abm\_AllocateOsMemory}}(NULL, \mbox{\hyperlink{ab__common_8h_a9e89c74d1fedd0a954107d7ab01481cc}{Kilobytes}}(5));}
\DoxyCodeLine{memory\_arena Memory = \mbox{\hyperlink{ab__memory_8h_a5f2fa70a405694492db91b26ed884207}{abm\_InitMemory}}(OsMemory, \mbox{\hyperlink{ab__common_8h_a9e89c74d1fedd0a954107d7ab01481cc}{Kilobytes}}(5));}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// This starts the client running in the background.}}
\DoxyCodeLine{ablc\_client *Client = \mbox{\hyperlink{ab__loggerclient_8h_a6a9c6cc50f2d8e043c083a734f3ba274}{ablc\_Initialize}}(\&Memory);}
\DoxyCodeLine{\textcolor{keywordflow}{if}(!Client)}
\DoxyCodeLine{\{}
\DoxyCodeLine{  printf(\textcolor{stringliteral}{"{}Failed to create client.\(\backslash\)n"{}});}
\DoxyCodeLine{  \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{ab__loggerclient_8h_a27899905b2fb26048cd0765fa835011e}{ablc\_SetFile}}(Client, \textcolor{stringliteral}{"{}ClientTestLog.log"{}});}
\DoxyCodeLine{\textcolor{comment}{// Turn off stderr logging.}}
\DoxyCodeLine{\mbox{\hyperlink{ab__loggerclient_8h_a199bbcf889739df1b4089adf2b7eae8f}{ablc\_SetQuiet}}(Client, \textcolor{keyword}{true});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{ab__common_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32}} EndpointIndexA = \mbox{\hyperlink{ab__loggerclient_8h_a197a243e87ebadb6e215015852719dae}{ablc\_AddEndpoint}}(Client, \textcolor{stringliteral}{"{}LoggerA"{}}, \textcolor{stringliteral}{"{}tcp://127.0.0.1:5555"{}});}
\DoxyCodeLine{\mbox{\hyperlink{ab__common_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32}} EndpointIndexB = \mbox{\hyperlink{ab__loggerclient_8h_a197a243e87ebadb6e215015852719dae}{ablc\_AddEndpoint}}(Client, \textcolor{stringliteral}{"{}LoggerB"{}}, \textcolor{stringliteral}{"{}tcp://127.0.0.1:5556"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{sleep(10);}
\DoxyCodeLine{\textcolor{comment}{// Print log files to stderr.}}
\DoxyCodeLine{\mbox{\hyperlink{ab__loggerclient_8h_a199bbcf889739df1b4089adf2b7eae8f}{ablc\_SetQuiet}}(Client, \textcolor{keyword}{false});}
\DoxyCodeLine{sleep(10);}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{ab__loggerclient_8h_a4286ea4124ae1b21a8178ec8b5822ed2}{ablc\_Shutdown}}(Client);}
\end{DoxyCode}


\doxysubsection*{References}


\begin{DoxyItemize}
\item \mbox{\hyperlink{ab__logger_8h}{ab\+\_\+logger.\+h}}
\item \href{https://zeromq.org/}{\texttt{ zmq Messaging}}
\item \href{http://czmq.zeromq.org/}{\texttt{ czmq C Library for Z\+MQ messaging}}
\end{DoxyItemize}

\doxysubsection*{M\+IT License}

\href{https://opensource.org/licenses/MIT}{\texttt{ M\+IT Public License}}

Copyright 2020 Amos Buchanan

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \char`\"{}\+Software\char`\"{}), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions\+:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

T\+HE S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED \char`\"{}\+A\+S I\+S\char`\"{}, W\+I\+T\+H\+O\+UT W\+A\+R\+R\+A\+N\+TY OF A\+NY K\+I\+ND, E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED, I\+N\+C\+L\+U\+D\+I\+NG B\+UT N\+OT L\+I\+M\+I\+T\+ED TO T\+HE W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY, F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+ND N\+O\+N\+I\+N\+F\+R\+I\+N\+G\+E\+M\+E\+NT. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE A\+U\+T\+H\+O\+RS OR C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY C\+L\+A\+IM, D\+A\+M\+A\+G\+ES OR O\+T\+H\+ER L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN AN A\+C\+T\+I\+ON OF C\+O\+N\+T\+R\+A\+CT, T\+O\+RT OR O\+T\+H\+E\+R\+W\+I\+SE, A\+R\+I\+S\+I\+NG F\+R\+OM, O\+UT OF OR IN C\+O\+N\+N\+E\+C\+T\+I\+ON W\+I\+TH T\+HE S\+O\+F\+T\+W\+A\+RE OR T\+HE U\+SE OR O\+T\+H\+ER D\+E\+A\+L\+I\+N\+GS IN T\+HE S\+O\+F\+T\+W\+A\+RE. 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{ab__loggerclient_8h_af262e3b1912ee661a49f0e9c59eb7d2d}\label{ab__loggerclient_8h_af262e3b1912ee661a49f0e9c59eb7d2d}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!log\_function@{log\_function}}
\index{log\_function@{log\_function}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{log\_function}{log\_function}}
{\footnotesize\ttfamily typedef void($\ast$ log\+\_\+function) (\mbox{\hyperlink{structablc__message}{ablc\+\_\+message}})}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ab__loggerclient_8h_a197a243e87ebadb6e215015852719dae}\label{ab__loggerclient_8h_a197a243e87ebadb6e215015852719dae}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_AddEndpoint@{ablc\_AddEndpoint}}
\index{ablc\_AddEndpoint@{ablc\_AddEndpoint}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_AddEndpoint()}{ablc\_AddEndpoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ab__common_8h_ae9b1af5c037e57a98884758875d3a7c4}{s32}} ablc\+\_\+\+Add\+Endpoint (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client,  }\item[{char const $\ast$}]{Label,  }\item[{char const $\ast$}]{Endpoint }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_a6af52c9b0e513420bcdeb81576ec6599}\label{ab__loggerclient_8h_a6af52c9b0e513420bcdeb81576ec6599}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_BasicLogger@{ablc\_BasicLogger}}
\index{ablc\_BasicLogger@{ablc\_BasicLogger}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_BasicLogger()}{ablc\_BasicLogger()}}
{\footnotesize\ttfamily void ablc\+\_\+\+Basic\+Logger (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structablc__message}{ablc\+\_\+message}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_ae0aaa92682170edd6287afb7636d9824}\label{ab__loggerclient_8h_ae0aaa92682170edd6287afb7636d9824}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_ClearFile@{ablc\_ClearFile}}
\index{ablc\_ClearFile@{ablc\_ClearFile}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_ClearFile()}{ablc\_ClearFile()}}
{\footnotesize\ttfamily void ablc\+\_\+\+Clear\+File (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_a6a9c6cc50f2d8e043c083a734f3ba274}\label{ab__loggerclient_8h_a6a9c6cc50f2d8e043c083a734f3ba274}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_Initialize@{ablc\_Initialize}}
\index{ablc\_Initialize@{ablc\_Initialize}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_Initialize()}{ablc\_Initialize()}}
{\footnotesize\ttfamily ablc\+\_\+client$\ast$ ablc\+\_\+\+Initialize (\begin{DoxyParamCaption}\item[{memory\+\_\+arena $\ast$}]{Memory,  }\item[{\mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{Max\+Endpoints }\end{DoxyParamCaption})}



Initialize a new client. 

This initializes and starts a client thread. The client recieves messages from all the specified end-\/points and prints them. The client starts immediately, even if there are no endpoints.

The client can remove and add endpoints through its running. However, there can only be {\ttfamily Max\+Endpoints} number of endpoints running at any given time.


\begin{DoxyParams}{Parameters}
{\em Memory} & The memory from which the client can allocate. \\
\hline
{\em Max\+Endpoints} & The maximum number of endpoints the client will be attached to. There will always be a minimum of one endpoint created. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ab__loggerclient_8h_af80216ddef20b95407caf7a5a948cae1}\label{ab__loggerclient_8h_af80216ddef20b95407caf7a5a948cae1}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_RemoveEndpoint@{ablc\_RemoveEndpoint}}
\index{ablc\_RemoveEndpoint@{ablc\_RemoveEndpoint}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_RemoveEndpoint()}{ablc\_RemoveEndpoint()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void ablc\+\_\+\+Remove\+Endpoint (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client,  }\item[{char const $\ast$}]{Label }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_a9f7c437ff3b7fb635683e56c8206d2e1}\label{ab__loggerclient_8h_a9f7c437ff3b7fb635683e56c8206d2e1}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_RemoveEndpoint@{ablc\_RemoveEndpoint}}
\index{ablc\_RemoveEndpoint@{ablc\_RemoveEndpoint}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_RemoveEndpoint()}{ablc\_RemoveEndpoint()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void ablc\+\_\+\+Remove\+Endpoint (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client,  }\item[{\mbox{\hyperlink{ab__common_8h_afaa62991928fb9fb18ff0db62a040aba}{u32}}}]{Index }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_a27899905b2fb26048cd0765fa835011e}\label{ab__loggerclient_8h_a27899905b2fb26048cd0765fa835011e}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_SetFile@{ablc\_SetFile}}
\index{ablc\_SetFile@{ablc\_SetFile}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_SetFile()}{ablc\_SetFile()}}
{\footnotesize\ttfamily void ablc\+\_\+\+Set\+File (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client,  }\item[{char const $\ast$}]{Filename }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_a463b5fd55a5383e451300bc2acb2659f}\label{ab__loggerclient_8h_a463b5fd55a5383e451300bc2acb2659f}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_SetPause@{ablc\_SetPause}}
\index{ablc\_SetPause@{ablc\_SetPause}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_SetPause()}{ablc\_SetPause()}}
{\footnotesize\ttfamily void ablc\+\_\+\+Set\+Pause (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client,  }\item[{\mbox{\hyperlink{ab__common_8h_a70e369648385b50f2d0588e8e8745275}{b8}}}]{do\+Pause }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_a199bbcf889739df1b4089adf2b7eae8f}\label{ab__loggerclient_8h_a199bbcf889739df1b4089adf2b7eae8f}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_SetQuiet@{ablc\_SetQuiet}}
\index{ablc\_SetQuiet@{ablc\_SetQuiet}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_SetQuiet()}{ablc\_SetQuiet()}}
{\footnotesize\ttfamily void ablc\+\_\+\+Set\+Quiet (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client,  }\item[{\mbox{\hyperlink{ab__common_8h_a70e369648385b50f2d0588e8e8745275}{b8}}}]{do\+Quiet }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ab__loggerclient_8h_a4286ea4124ae1b21a8178ec8b5822ed2}\label{ab__loggerclient_8h_a4286ea4124ae1b21a8178ec8b5822ed2}} 
\index{ab\_loggerclient.h@{ab\_loggerclient.h}!ablc\_Shutdown@{ablc\_Shutdown}}
\index{ablc\_Shutdown@{ablc\_Shutdown}!ab\_loggerclient.h@{ab\_loggerclient.h}}
\doxysubsubsection{\texorpdfstring{ablc\_Shutdown()}{ablc\_Shutdown()}}
{\footnotesize\ttfamily void ablc\+\_\+\+Shutdown (\begin{DoxyParamCaption}\item[{ablc\+\_\+client $\ast$}]{Client }\end{DoxyParamCaption})}

